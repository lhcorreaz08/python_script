CREATE TABLE IF NOT EXISTS ODS_SABRE.tb_tkt_coupon 
(
  `ID_DATE_BQ` STRING OPTIONS(description="Date of data load to the database."),
  `RecordIndicator` INT64 OPTIONS(description="A numeric value that identifies the table in which the row resides. All rows belonging to TktCoupon have a value of 19 in this column."),
  `PNRLocatorID` STRING OPTIONS(description="Sabre PNR locator ID. Also known as the Host Record Locator."),
  `PNRCreateDate` DATE OPTIONS(description="Date that the PNR was created in the Sabre host system."),
  `PrimaryDocNbr` STRING OPTIONS(description="The document number including the carrier accounting code less the check digit and coupon numbers. If the document is conjunctive it is the first document number in the series."),
  `VCRCreateDate` DATE OPTIONS(description="Date that the ticket was issued. Date is stated according to agent's AAA city time zone - not Central Time. Value is stated as YYYY-MM-DD."),
  `TransactionDateTime` TIMESTAMP OPTIONS(description="Date and Time of the most recent modification to the document. Value is YYYY-MM-DD HH:MM:SS.000000."),
  `CouponSeqNbr` INT64 OPTIONS(description="Sabre assigned sequence number of the ticket coupon. Values are 1-16; values 5 and greater are a result of a conjunctive ticket."),
  `EntNbr` INT64 OPTIONS(description="Entitlement number, similar to coupon number. Values are 1-16; values 5 and greater are a result of a conjunctive ticket."),
  `CouponStatus` STRING OPTIONS(description="The current code identifying the current status of this ticket coupon."),
  `PreviousCouponStatusCode` STRING OPTIONS(description="Most recent status code prior to current status of the coupon."),
  `SegmentTypeCode` STRING OPTIONS(description="O = Open segment, A = ARNK segment, or Blank for all others."),
  `MarketingAirlineCode` STRING OPTIONS(description="The carrier code on the document by which the air segment was marketed and sold."),
  `MarketingFlightNbr` STRING OPTIONS(description="The flight number of the marketing carrier."),
  `ServiceStartCity` STRING OPTIONS(description="The airport code of the board point of this coupon."),
  `ServiceEndCity` STRING OPTIONS(description="The airport code of the end point of this coupon."),
  `SegmentStatusCode` STRING OPTIONS(description="The ticketed status of the coupon."),
  `ServiceStartDate` DATE OPTIONS(description="Departure date on the document. Value is YYYY-MM-DD."),
  `ServiceStartTime` STRING OPTIONS(description="Scheduled local flight arrival time. Value is stated as HH:MM:SS.000000. Time is stated as a 24-hour clock."),
  `ServiceEndDate` DATE OPTIONS(description="Scheduled local flight arrival date. Value is stated as YYYY-MM-DD."),
  `ServiceEndTime` STRING OPTIONS(description="Scheduled local flight arrival time. Value is stated as HH:MM:SS.000000. Time is stated as a 24-hour clock."),
  `ClassOfService` STRING OPTIONS(description="Class of service on the segment at the time it was ticketed."),
  `FareBasisCode` STRING OPTIONS(description="Code defined by the airline to uniquely identify the fare."),
  `TktDesignatorCode` STRING OPTIONS(description="Code assigned by the airline indicating a specific discount or group travel program applicable to the fare for this leg of travel."),
  `FareBreakInd` STRING OPTIONS(description="Indicates whether the coupon is the fare break point or not."),
  `PriceNotValidBeforeDate` DATE OPTIONS(description="Travel date before which this fare is not valid. Value is stated as YYYY-MM-DD."),
  `PriceNotValidAfterDate` DATE OPTIONS(description="Travel date after which this fare is not valid. Value is stated as YYYY-MM-DD."),
  `InvoluntaryInd` STRING OPTIONS(description="Involuntary indicator indicating the reason the traveler was rerouted."),
  `FlownFlightNbr` STRING OPTIONS(description="Flown flight number which appears when the agent does a post departure control entry."),
  `FlownServiceStartDate` DATE OPTIONS(description="Date when service began for this segment. Created at PDC of the flight."),
  `FlownServiceStartCity` STRING OPTIONS(description="Flown airport code of the board point. Created at PDC of the flight."),
  `FlownServiceEndCity` STRING OPTIONS(description="Flown airport code of the off point. Created at PDC of the flight."),
  `FlownClassOfService` STRING OPTIONS(description="The cabin class in which the passenger flew. Created at PDC of the flight."),
  `FlownFlightOrigDate` DATE OPTIONS(description="Date flight originated. Created at PDC of the flight."),
  `OperatingAirlineCode` STRING OPTIONS(description="The carrier code corresponding to the airline actually providing the air service."),
  `OperatingFlightNbr` STRING OPTIONS(description="The flight number of the carrier actually providing the air service."),
  `OperatingPNRLocator` STRING OPTIONS(description="The record locator of the other airline or GDS that created the booking."),
  `FareBreakAmt` NUMERIC OPTIONS(description="If FareBreakInd is Y, this is the value of that fare break amount."),
  `FareBreakDiscAmt` NUMERIC OPTIONS(description="Discount Amount of the Fare Break item."),
  `DiscountAmtInd` STRING OPTIONS(description="An indicator that specifies if the discount is expressed as an amount."),
  `DiscountPctInd` STRING OPTIONS(description="An indicator that specifies if the discount is expressed as a percent value."),
  `StopoverCode` STRING OPTIONS(description="Indicates if the coupon is a stopover."),
  `FrequentTravelerNbr` STRING OPTIONS(description="Loyalty program membership ID associated with the specific coupon."),
  `VendorCode` STRING OPTIONS(description="Loyalty program vendor code associated with FrequentTravelerNbr for the specific coupon."),
  `FareBreakCurrencyCode` STRING OPTIONS(description="Currency code associated with a fare break amount on a coupon."),
  `SettlementAuthCode` STRING OPTIONS(description="A 15-character reference number generated by the validating (ticketing) carrier authorizing settlement, or payment, of an electronic coupon."),
  `BaggageAlwncText` STRING OPTIONS(description="Baggage allowance amount.")
)
PARTITION BY(ID_DATE_BQ)
OPTIONS(
  description="This table stores information about airline ticket documents, capturing details such as ticket issuance, passenger data, fares, and financial information. It's a vital resource for tracking and managing ticket-related transactions, providing insights into passenger itineraries, fares, currencies, and more.",
  labels=[("origen", "sabre"),("capa", "bronze"),("grupo","tkt"),("archivo","tktcoupon")]
);
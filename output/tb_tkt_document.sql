CREATE TABLE IF NOT EXISTS ODS_SABRE.tb_tkt_document  
(
  ID_DATE_BQ STRING OPTIONS(description="Date of data load to the database."),
  Record Indicator nan OPTIONS(description="A numeric value that identifies the table in which the row resides. All rows belonging to TktDocument have a value of 18 in this column."),
  PNRLocatorID STRING OPTIONS(description="Sabre PNR locator ID. Also known as the Host Record Locator."),
  PNRCreateDate DATE OPTIONS(description="Date that the PNR was created in the Sabre host system."),
  PrimaryDocNbr STRING OPTIONS(description="The document number including the carrier accounting code less the check digit and coupon numbers. If the document is conjunctive it is the first document number in the series. In the Sample Value provided "279" equals the carrier accounting code, the next three digits (792) is the form number, the remaining 7 digits is the serial number. In Sabre Host, enter WAF* to obtain a listing of form numbers associated to various document types."),
  VCRCreateDate DATE OPTIONS(description="Date that the ticket was issued . Date is stated according to agent's AAA city time zone - not Central Time. Value is stated as YYYY-MM- DD."),
  TransactionDate Time TIMESTAMP OPTIONS(description="Date and Time of the most recent modification to the document. YYYY- MM-DD HH:MM:SS.000000."),
  AirlineAccountin gCode STRING OPTIONS(description="IATA assigned carrier accounting code."),
  EndDocNbr STRING OPTIONS(description="The final document number in a conjunctive document. This occurs when more than 4 coupons exist in a ticket. By IATA agreement conjunctive documents must be issued sequentially. If document is non-conjunctive, the PrimaryDocNbr is populated in this column."),
  VendorName STRING OPTIONS(description="Name of the Validating Carrier."),
  PointOfTktIssuan ce STRING OPTIONS(description="Where the document was issued. Pseudo City Code (PCC) or geographic city code of the ticket issuing agent. If the agent used the "AAA" entry to change their Agent Assembly Area (AAA), this attribute will contain the PCC to which the AAA was changed. Otherwise, it will equal the Employee Profile Record (EPR) Create City or Home Station. If the segment was created via teletype, this is the city code from the signature line (Communications Reference Element) of the teletype message. Length of this field will vary based on ticketing location."),
  ValidatingVendor Code STRING OPTIONS(description="Two character IATA carrier code that issued the document."),
  ValidatingVendor Nbr STRING OPTIONS(description="IATA assigned number corresponding to the ValidatingVendorCode"),
  PNRPurgeDate DATE OPTIONS(description="The date of the last indexed segment in which the PNR was purged from the source system. Value is stated as YYYY-MM-DD."),
  CRSPNRLocator STRING OPTIONS(description="The identifier received from a GDS or other airline used to locate a PNR. Only populated on Teletype PNR's."),
  DocIssueDate DATE OPTIONS(description="Date the document was issued. Date is stated according to agent's AAA city time zone - not US Central Time. Value is displayed as YYYY-MM-DD."),
  CustomerFullName STRING OPTIONS(description="The ticketed passenger's full name. Format is Last/First where last name includes up to the first 27 characters of the last name."),
  AgentCountryCode STRING OPTIONS(description="The 2 character ISO country code of the creating city for the document."),
  IntlDocSaleCode STRING OPTIONS(description="Null for domestic travel. Values are: SITI - ticket sold and issued in the country of departure; SITO - ticket sold inside country of departure but issued outside that country; SOTI - ticket sold outside the country of departure but issued inside that country; SOTO - ticket sold and issued outside the country of departure. This is no longer required per IATA."),
  TourCode STRING OPTIONS(description="Tour, Inclusive Tour (IT), Bulk Ticket (BT), Net Remit Contract Agreement Reference Code, Value Code or other code entered as part of the ticketing transaction. Typically used by ARC/BSP and/or the airline for settlement purposes and to validate the fare priced."),
  AgentSine STRING OPTIONS(description="The agent sine code of the ticketing, or issuing, agent. If the PNR is created via teletype, the field contains 3 blank characters."),
  OwningCityCode STRING OPTIONS(description="The pseudo city code (PCC) of the booking agent which "owns" the PNR at a particular point in time. It identifies an agency within a Computer Reservations System (CRS)."),
  AAACityCode STRING OPTIONS(description="Pseudo City Code (PCC) or geographic city code of the issuing agent of the document. If the agent used the "AAA" entry to change his Agent's Assembly Area (AAA), this attribute will contain the city that the AAA was changed to. Otherwise, it will equal the Employee Profile Record (EPR) Create City or Home Station. If the segment was created via teletype, this is often not populated on GDS-issued tickets; however, if it is populated, it contains the city code from the signature line (Communications Reference Element) of the teletype message."),
  DocIssueAAAIATANbr STRING OPTIONS(description="The IATA number of the issuing ticketing location."),
  HomeCityCode STRING OPTIONS(description="Pseudo City Code (PCC) to which the Ticketing agent is assigned in the agent's EPR. This is the EPR Home city of the agent that issued this VCR. Pseudo City Code (PCC) or geographic city code of the creation agent. If the agent used the "AAA" entry to change his Agent's Assembly Area (AAA), this attribute will contain the city that the AAA was changed to. Otherwise, it will equal the Employee. Profile Record (EPR) Create City or Home Station."),
  Restrictions STRING OPTIONS(description="This column is no longer be populated; data previously parsed into this column is now present in TktEndorsement.Endorsements."),
  CurrConverRate STRING OPTIONS(description="The rate used to calculate the amounts on the ticket for currency conversion / rate of exchange. Only populated when the fare is calculated using NUC (neutral units of construction)."),
  BankSellRate INTEGER OPTIONS(description="Indicates which Rate Table used to gain the CurrConverRate (1 for true that BSR was used for ticketing, 0 for false)."),
  BankBuyRate INTEGER OPTIONS(description="Indicates which Rate Table used to gain the CurrConverRate (1 for true that BBR was used for ticketing, 0 for false)."),
  IntlClearHouseRate INTEGER OPTIONS(description="Indicates which Rate Table used to gain the CurrConverRate (1 for true that ICH was used for ticketing, 0 for false)."),
  ExchgTktAmt DECIMAL (18,4) OPTIONS(description="Amount of additional monies collected when a ticket is exchanged for another ticket. Note: The amount is determined by the differences between base + taxes on the ticket(s) exchanged against the values that pricing determines is the value of the new ticket."),
  SettlementAuthCode STRING OPTIONS(description="A 15-character reference number generated by the validating (ticketing) carrier authorizing settlement, or payment, of an electronic coupon. This authorization code supports the interline billing process. Usually the requesting carrier is the operating carrier. Note - this is Not related to credit card authorization."),
  BaseFareCurrCode STRING OPTIONS(description="The default ticketing currency code as stated in the agency's TJR or ticketing station. Also, the currency the ticket was issued in and the traveler paid in if the EquivBaseFareAmt is in the same currency."),
  BaseFareAmt DECIMAL (18,4) OPTIONS(description="Amount of the base fare (without taxes) of all segments on the ticket. Under certain circumstances such as bulk, net, award tickets, this value will be blank."),
  TotalFareCurrCode STRING OPTIONS(description="Currency Code of the Total Amount on the ticket."),
  TotalDocAmt DECIMAL (18,4) OPTIONS(description="Total price of this ticket document including base fare, taxes and fees stated in the EquivBaseFareCurrCode. In the case of exchanges this amount may be zero or may only represent the difference in price from the previous ticket amount."),
  EquivBaseFareCurrCode STRING OPTIONS(description="The currency in which the traveler paid for the ticket. Populated when the currency in which the passenger paid is not the same as the currency applicable to the airport/city of origin on the ticket."),
  EquivBaseFareAmt DECIMAL (18,4) OPTIONS(description="The base fare stated in the currency the traveler paid in which is usually the travel point of origin if different from the agency's default currency but could also reflect the point of sale currency when different from the agency's default currency."),
  DataInd STRING OPTIONS(description="Indicates the type of document issued. Field will be blank or populated with a single alpha character. Possible values include NULL, A, V, E, N, I or T. Values A, I and T are defined as:  A = Add Collect, Even Exchanges or Net ticket I = Bulk ticket  T = Tour ticket"),
  FareCalc STRING OPTIONS(description="The text field that prints on the ticket document. It includes multiple Fare Calculation pieces of information. This data details the prices by segment that were used to determine the ticket value."),
  FareCalcType INTEGER OPTIONS(description="A unique system-assigned numeric value representing the classification of fare calculation text. 1 = IATA  2 = ATB 3 = BT – Fare calculation line for Bulk ticket 4 = IT – Fare calculation line for Inclusive Tour ticket 5 = NEW – Fare calculation line for normal fare ticket"),
  OriginalIssueDate DATE OPTIONS(description="In the case of an exchange or reissue transaction, this is the date that the first (original)document was issued. This date is carried forward to subsequent reissued/exchanged documents. Normally, it is the original issue date, but it can be entered or overridden by the ticket agent. Value is YYYY-MM-DD."),
  OriginalIssueCity STRING OPTIONS(description="In the case of an exchange or reissue transaction, this is the city where the first (original)document was issued. This city is carried forward to subsequent reissued/exchanged documents."),
  OriginalIATANbr VARCHA R(8) OPTIONS(description="In the case of an exchange or reissue transaction, this is the IATA number of the location where the first (original)document was issued. This IATA number is carried forward to subsequent reissued/exchanged documents."),
  OriginalFOP STRING OPTIONS(description="In the case of an exchange or reissue transaction, this is the Form of Payment of the first (original)document that was issued. This Form of Payment is carried forward to subsequent reissued/exchanged documents."),
  OriginalTktNbr STRING OPTIONS(description="In the case of an exchange or reissue transaction, this is the first (original)document that was issued. This document number is carried forward to subsequent reissued/exchanged documents."),
  ExchgFOP STRING OPTIONS(description="The FOP of the most recently exchanged document. Only the first three characters of the exchange FOP are displayed."),
  AddlExchgTktData STRING OPTIONS(description="The ticket number of the other tickets used in the exchange. In the event of a certificate, the 14 digits above could also contain a "C" followed by up to 13 digits. This column is included as part of the unique key for instances where there are multiple exchanged ticket documents for one new ticket document. This scenario can generate more than one row per ticket document, requiring this column to be included to determine a unique row. If there are not multiple exchange ticket documents, this column will not contain a ticket number. This column may be Null; however, when it contains a non-Null value, this column helps determine a unique row in this table."),
  ExchgCoupon STRING OPTIONS(description="This is the original Coupon Numbers of the primary/first exchanged ticket."),
  AutoPriceCode STRING OPTIONS(description="Coded value in the VCR which indicates whether a ticket was issued via auto/system pricing method, or manual/agent pricing method. This indicator is found in the internal record of the VCR. See appendix for applicable values."),
  DocTypeCode STRING OPTIONS(description="A code which identifies the document type of the transaction. See appendix for applicable values."),
  DocStatusCode STRING OPTIONS(description="A- The document is active.  R - The document and all its coupons have been refunded. V - The document and all its coupons have been voided. X - The document and all its coupons have been exchanged for another ticket. E – The document has been partially exchanged."),
  PassengerType STRING OPTIONS(description="ATPCO standard code used in pricing and ticketing entries to identify the passenger. Not populated on secondary conjunctive tickets. This column conveys the passenger type code returned by the system. This may not be the passenger type entered by the customer. Also, see column “PricedPassengerType”."),
  SourceSystemId STRING OPTIONS(description="The host partition belonging to the hosted carrier; i.e. 'SY' for Sun Country."),
  OACStationNbr STRING OPTIONS(description="The OAC office code, or station number, associated with the host ticketing agent’s AAA location. In the case of non-OAC carriers, this is the host station number. Note: This column may be null if doc type is not TKT."),
  RefundableInd STRING OPTIONS(description="Indicates if the document is eligible for refund.  This Field is specific to EMD documents only."),
  CommissionableInd STRING OPTIONS(description="Indicates if the AE Item is eligible for commission. Y = Commissionable N = Non-Commissionable  This Field is specific to EMD documents only."),
  InterlineInd STRING OPTIONS(description="Indicates if Interline settlement is permitted. Y = Interline Settlement Permitted N = Interline Settlement Not Permitted  This Field is specific to EMD documents only."),
  EMDRFICode STRING OPTIONS(description="EMD Reason For Issuance Code. Filed with ATPCO or Merchandising Manager and added to the AE at time of booking. Specifies the reason for issuing the EMD for the service associated to the sub-code. Blank if EMD is not required. See appendix for applicable values.  Populated for document types such as EMD."),
  EMDType STRING OPTIONS(description="A = Associated to a flight coupon S = Stand-Alone"),
  TaxExInd STRING OPTIONS(description="Tax exempt indicator. Y = EMD is exempt from tax N = EMD is subject to taxes"),
  ConsumedAtIssueInd STRING OPTIONS(description="Consumed at issue indicator. Y = the service is considered used at the time of issue N = the service is considered used at a later date"),
  ElectronicDocumentInd STRING OPTIONS(description="Indicates whether the document was issued electronically. Y = Electronic Document N = Paper document"),
  ManualDocumentInd STRING OPTIONS(description="Indicates whether the document was added manually via the manual document mask (WYM). Y = Manually Added Document N = Not Added Manually"),
  VoucherRefundInd STRING OPTIONS(description="Indicates whether a VOU or VCH type document is a refund. Populated only for VOU and VCH document types. Y = Refund N = Not a refund (e.g. Compensation Voucher, etc.)"),
  RFICode VARCHA R(10) OPTIONS(description="Reason For Issuance Code.  Populated for document types such as compensation vouchers VOU and VCH."),
  RFITxt VARCHA R(43) OPTIONS(description="Reason For Issuance Text. Free text describing the reason a document was issued.  Populated primarily for document types, such as compensation vouchers, but may be present for other document types as well."),
  PTASvcChargeCurrCode STRING OPTIONS(description="Currency code for any service charges associated with Prepaid Ticket Advice (PTA)."),
  PTASvcChargeAmt DECIMAL (18,4) OPTIONS(description="Amount for any service charges associated with PTAs."),
  PTAAddFundsDesc VARCHA R(20) OPTIONS(description="Description of any additional funds sent with a PTA."),
  PTAAddFundsCurrCode STRING OPTIONS(description="Currency code for additional funds sent with a PTA."),
  PTAAddFundsAmt DECIMAL (18,4) OPTIONS(description="Amount of additional funds sent with a PTA."),
  ExchgChangeFeeCurrCode STRING OPTIONS(description="Currency code in which exchange fee for a ticket exchange transaction was paid."),
  ExchgChangeFeeAmt DECIMAL (18,4) OPTIONS(description="Ticket exchange fee assessed in an exchange ticket transaction."),
  OtherFeeCurrCode STRING OPTIONS(description="Currency Code associated with 'Other' (OTH) type fee."),
  OtherFeeAmt DECIMAL (18,4) OPTIONS(description="During an exchange transaction, amount associated with 'Other' (OTH) type fee that is charged by the carrier. Example: LTA (lost ticket application) fee."),
  AddCollectCurrCode STRING OPTIONS(description="Currency code in which additional collection on an exchange transaction is paid"),
  AddCollectAmt DECIMAL (18,4) OPTIONS(description="Amount of additional collection on an exchange ticket transaction"),
  OACDefaultPartit ionCode STRING OPTIONS(description="The default carrier code from the station table used for this document issuance.  Note: This column may be null if doc type is not TKT."),
  OACCityCode STRING OPTIONS(description="The account city of the agent who issued the document. This is the first three characters of the station code from the station table (WJ*).  Note: This column may be null if doc type is not TKT."),
  OACAcctCode STRING OPTIONS(description="The accounting code of the agent who issued the document. This is the last two characters of the station code from the station table (WJ*).  Note: This column may be null if doc type is not TKT."),
  NonRefFeeCurrCode STRING OPTIONS(description="Currency code in which nonrefundable fee for a ticket transaction was paid."),
  NonRefFeeAmt DECIMAL (18,4) OPTIONS(description="Nonrefundable fee assessed in a ticket refund transaction."),
  OBFeeDescText VARCHA R(40) OPTIONS(description="OB Fee sub code description as defined by IATA or Airline in the pricing system"),
  OBFeePricingCode VARCHA R2 (1) OPTIONS(description="0  OB Fee Priced Code - Indicates how fee was priced. Possible values are: - system priced - agent priced"),
  OBFeeWaiverCode VARCHA R2 (3) OPTIONS(description="OB Fee Waiver Code – Waiver reason code as defined by the airline in MISCO* table"),
  OBFeeTotalCurrCode STRING OPTIONS(description="Total OB Fee amount in ticketing/charging currency."),
  OBFeeTotal DECIMAL (18, 4) OPTIONS(description="Total OB Fee amount charged. Value could be 0 if fee is waived."),
  OBFeeTotalUSD DECIMAL (18, 4) OPTIONS(description="Total OB Fee amount charged in USD using the ROE in the look up table at time of ticket issuance."),
  PricedPassengerType STRING OPTIONS(description="Passenger Type code used to price the itinerary."),
  OwnerCurrCode STRING OPTIONS(description="Default currency code applicable to the carrier that issued this ticketing document."),
  BaseFareOwnerAmt DECIMAL (18,4) OPTIONS(description="Base fare on the ticketing document, expressed in the owning carrier’s currency."),
  BaseFareAmtUSD DECIMAL (18,4) OPTIONS(description="Amount from BaseFareAmt column converted to USD using BSR applicable to date of ticket issueance."),
  TotalDocOwnerAmt DECIMAL (18,4) OPTIONS(description="Total amount on the ticket, expressed in the woning carrier’s currency."),
  TotalDocAmtUSD DECIMAL (18,4) OPTIONS(description="Total price of this ticket document including base fare, taxes and fees stated in the TotalDocAmt column, converted to USD using the BSR applicable to date of ticket issueance."),
)
